<?xml version="1.0" encoding="UTF-8"?>
<launch>
  <!-- Arguments -->
  <arg name="model" default="burger"/>
  <arg name="speed" />
  <arg name="namespace" default="" />
  <arg name="frame" />
  <arg name="move_forward_only" default="false"/>
  <arg name="model_file"   default="$(find drl_vo_barn_nav)/src/model/drl_vo.zip"/>
  

  <!-- move_base_flex-->
  <group ns="move_base_flex">
    <rosparam file="$(find arena_bringup)/params/mbf/trail_local_planner_params.yaml"
      command="load" subst_value="True" />

    <rosparam file="$(find arena-simulation-setup)/robot/$(arg model)/configs/mbf/trail_local_planner_params.yaml"
      command="load" subst_value="True" />

    <param name="base_local_planner" value="TrajectoryPlannerROS"/>
  </group>
   
   <include file="$(find arena_bringup)/launch/testing/move_base/mbf_nav/costmap_nav.launch">
    <arg name="model" value="$(arg model)" />
    <arg name="speed" value="$(arg speed)" />
    <arg name="namespace" value="$(arg namespace)" />
    <arg name="frame" value="$(arg frame)" />
   </include>

   <!-- Barn Data -->
   <include file="$(find drl_vo_barn_nav)/launch/barn_data.launch"/>

   <!-- DRL-VO Control Policy -->
   <include file="$(find drl_vo_barn_nav)/launch/drl_vo_inference.launch">
     <arg name="model_file" value="$(arg model_file)"/>
     <arg name="start" value="true" />
     <arg name="goal_x" value="0" />
     <arg name="goal_y" value="0" />
   </include>
</launch>